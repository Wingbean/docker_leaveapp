{% extends "base.html" %}
{% block content %}
<h2 class="text-center mb-4">ลืมรหัสผ่าน</h2>

{# [CHANGE] ระบุ action ให้ชัด + novalidate เพื่อให้ backend ตัดสินหลัก
   หมายเหตุ: ข้อความแจ้งเตือนใช้ flash ผ่าน base.html แล้ว ไม่ต้องดึงซ้ำในไฟล์นี้ #}
<form method="POST" action="{{ url_for('forgot_password') }}"
      class="mx-auto" style="max-width: 400px;" novalidate>
  <div class="mb-3">
    <label for="username" class="form-label">ชื่อผู้ใช้</label>
    <input type="text"
           class="form-control"
           name="username" id="username"
           required
           autocomplete="username"          {# [ADD] auto-fill ถูกต้อง #}
           autocapitalize="off"             {# [ADD] กันมือถือเปลี่ยนตัวอักษร #}
           spellcheck="false"               {# [ADD] กัน auto-correct #}
           maxlength="50">                  {# [ADD] sync กับ models.User.username #}
  </div>

  <button type="submit" class="btn btn-warning w-100">
    ส่งลิงก์รีเซ็ตรหัสผ่าน
  </button>

  {# [ADD] ข้อความคงที่ บอกขั้นตอน/ความเป็นส่วนตัว (ไม่เปิดเผยว่ามีบัญชีหรือไม่) #}
  <div class="mt-3 text-center">
    <small class="text-muted">
      หากบัญชีมีอยู่ ระบบจะส่งลิงก์รีเซ็ตไปยังอีเมลที่ผูกไว้
    </small>
  </div>
</form>
{% endblock %}
